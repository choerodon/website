+++
title = "状态机"
description = ""
weight = 4
+++

# 状态机

- **菜单层次**：项目层
- **菜单路径**：设置 > 状态机
- **默认角色**：项目管理员

## 1. 概要

问题项状态是敏捷状态机的重要组成部分，状态机由状态和步骤构成。工作项状态表示某个需求当前处于什么阶段；执行步骤可将当前需求流转至下一状态。配置状态机可通过项目设置中的`状态机`进行。此外，也可以在迭代计划的[看板配置](../../cooperation/iteration-plan/config)中设置。项目可以根据项目的实际需求来自定义状态流转。

## 2. 状态

状态页面中，可以对状态进行添加、删除操作:
![enter description here](../image/state-01.png "issue-state-list")

1. 点击`创建状态`按钮，打开`创建状态`页面，输入状态名称,选择状态阶段，选择应用到的问题类型，设置是否为初始状态，设置是否转换到所有状态后可完成添加。 

<blockquote class="note">
        创建的状态都必须处于待处理、处理中、完成三个阶段中。
        初始状态是指问题项创建成功后的起始状态。
</blockquote>

![enter description here](../image/state-02.png "issue-state-list")

2. 编辑状态：您需要到组织层`管理中心-设置-问题-状态机`进行修改。
3. 删除状态： 点击此图标可删除列表中的状态。  

<blockquote class="note">
        当状态不是初始状态，且未被应用到问题项、或者未其他状态存在联动时，才可删除。
</blockquote>

## 3. 状态与流转

根据实际需要配置状态的流转方向。状态机状态的流转状态配置好后，在看板中拖动问题可流转的状态，会根据当前类型的状态显示可流转的状态。
![enter description here](../image/state-03.png "issue-state-list")

1. 进入`状态机`页面，点击`状态与流转`标签页，进入状态与流转配置页。

2. 根据项目的实际流程来勾选问题状态的可流转状态。

3. 点击保存即可生效。

除此之外，您也可以在此添加、删除状态，或者设置问题项的初始状态。


## 4. 自定义流转

依赖状态流转进行的高级设置。在状态流转的基础上，引入流转条件限制、父子级状态联动、状态变更的后续动作，以满足项目开发过程中对问题项流转的权限要求和自动化管理。

![enter description here](../image/state-04.png "issue-state-list")

### 4.1 设置流转条件

问题项流转到某一状态应满足的条件设置。仅配置的项目角色或者指定身份才能将其他状态下的任务流转到当前状态中。例如：仅项目所有者可以将故事移动到「验收通过」状态。

- 点击需设置状态的设置按钮，点击`流转条件`按钮，进入流转条件设置侧开页。
- 选择可以移动到此状态的团队成员，您可以设置仅项目所有者可以移动到此状态，您也可以设置指定人员可以移动issue到此状态。
- 点击`确定`即可保存成功。

### 4.2 设置状态联动

当工作项流转到某一状态后，关联的父级任务/故事状态自动流转设置。例如：子任务全部到「开发完成」状态后，父级故事自动流转到「故事开发完成」状态。

<blockquote class="note">
        仅子任务、缺陷有此设置项。
</blockquote>

### 4.3 设置更新属性

问题项流转到某一状态的后续动作，自动更新问题项的属性值，这里的属性既包含预定义字段，也包含自定义字段。例如：问题项到「已完成」状态，自动更新「实际完成时间」这个属性为当前时间。

- 点击需设置状态的设置按钮，点击`更新属性`按钮，进入更新属性侧开页。
- 点击`添加字段`按钮，选择您需要更新的字段，设置对应流转后变更的字段值。您可以添加多个字段及其对应值。
- 点击`确定`即可保存成功。

### 4.4 通知设置

问题项流转到某一状态的后自动发消息通知相关方。例如：问题项到「开发完成」状态，自动通知问题项的「负责测试人员」，以便及时开始测试。

- 点击需设置状态的设置按钮，点击`通知设置`按钮，进入通知设置侧开页。
- 设置通知的方式：邮件、站内信、webhook。设置通知的对象，您可以选择经办人、报告人、项目所有者，也可以选择自定义的人员字段或者指定成员。
- 点击`确定`即可保存成功。

## 5. 阅读更多

- [页面设置](../pages)
- [通用设置](../common)

