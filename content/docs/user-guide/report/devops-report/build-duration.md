+++
title = "构建时长图"
description = "从应用的维度为您展示所选时间段某个应用每一次构建的时长，这将帮助您更为直观地了解应用构建的效率。"
weight = 2
+++

# 构建时长图

构建时长图将从应用的维度为您展示所选时间段某个应用每一次构建的时长，这将帮助您更为直观地了解应用构建的效率。

## 操作步骤

* 选择报表  
    1. 选择报表
    2. 选择DevOps报表
    3. 选择构建时长图
* 切换报表
    1. 点击切换报表按钮
    2. 选择DevOps报表中的其他报表


## 报表说明

* 选择应用：选择所在项目下的一个应用，从而查看该应用每一次的构建时长
* 选择时间：选择查看某个时间段某个应用的构建情况

<blockquote class="note">
此处仅可选择一个应用
</blockquote>

## 图表  

![构建时长图](/docs/user-guide/report/image/build-duration1.jpg)  

* 横坐标代表每一次构建触发的分支名加上commit sha
* 纵坐标代表构建时长
* 图中的折线为平均线，折线上每一点纵坐标的计算方式为：Yn=(y1+y2+…+yn)/n，此处y1，y2分别代表第一个柱子、第二个柱子的y 值所代表的时长值，Yn代表的是折线上第n个点的纵坐标值。


## 表格详情  

![构建表格图](/docs/user-guide/report/image/build-duration2.jpg)

* 状态：表示某一次构建中pipeline当前的状态，包括：Created, Pending, Running, Failed,   
Passed, Canceled, Skipped, Manual。
* 版本：表示每次构建之后生成的对应的版本。若表格内显示“未生成版本”，那就表示      
      此次的构建并未生成版本或者构建尚未完成以致当前无版本生成。
* 提交：表示某次提交的提交编码及提交信息，以及触发的分支。
* 阶段：此处的阶段是在gitlab-ci文件里定义的。例如，可以分为单元测试和生成镜像两
个阶段。单元测试阶段完成单元测试的运行并且对代码质量进行审查，生成镜像
阶段通过docker把应用生成镜像。
* 时长：完成该条持续集成流水线的总时长。
* 创建时间：创建该条持续集成流水线的时间。
* `重试按钮` ：当处于 Skipped、Canceled、Failed 状态时，可以重新运行持续集成流水线。
* `取消按钮`：当处于 Pending，Running 状态时，可以取消运行持续集成流水线。 
 

## 报表过程

* 进入构建时长图之后，可以通过下拉框在当前项目下选择一个应用，接着选择时间，便能在下方的柱状图中查看到所选时间段内每次构建的具体时长。
* 在柱状图中，还显示了一条折线，这条折线表示的是平均线，我们可以根据这条折线来快速定位异常数据的具体的位置。
* 在下方的表格中会显示出该应用在所选时间段的构建详情，包括每一次构建的状态，所生成的版本，提交详情，持续集成流水线的阶段，构建的时长以及该条流水线创建的时间。

## 其他DevOps报表

* [代码提交图](../code-commits)
* [构建次数图](../build-frequency)
* [部署次数图](../deploy-frequency)
* [部署时长图](../deploy-duration)


