+++
title = "状态机"
description = "展示组织下各项目状态机使用状态的集合"
weight = 3
+++

## 状态机
## 1. 概述
状态机的流转核心是状态，状态是项目中的问题在某时段所处的状态。问题状态可在项目层敏捷管理的看板配置中设置，也可以在组织层设置。组织层的状态机页面仅展示组织下所有项目使用状态机的状态集合。

## 2. 状态
### 2.1 状态列表
状态列表显示状态的名称、描述、阶段信息。

- 名称：状态的名称。
- 描述：状态的补充说明。
- 阶段：状态处于待处理、处理中、完成三个阶段中任意一个。

### 2.2 修改状态
- 点击状态列表中您要修改的状态的名称，即可打开修改状态侧开页。
- 您可以修改状态的名称、描述、阶段。
- 点击保存，即可修改成功

### 2.3 创建状态
点击创建状态按钮，打开创建状态页面，输入状态名称,选择状态阶段，后可完成添加。
 创建的状态都必须处于待处理、处理中、完成三个阶段中。
 
### 2.4 删除状态
您仅可删除未被使用的状态。

选择您要删除的的状态列，点击删除按钮即可。

## 3. 状态机模板

您可以在此设置组织层、系统预置问题类型的状态机。后续创建项目时可配置是否使用组织预置状态机模板，无需项目重复配置。项目层引用组织层问题类型时也可选择是否使用预置状态机模板。

若您尚未配置模板，您可以点击`配置模板`为问题类型配置模板。

<img src="https://file.open.hand-china.com/hsop-doc/doc_classify/0/25b3746de3f34caca58a18822640fa08@image.png" alt="" width="auto" height="auto" />

### 3.1 添加状态

1. 点击`创建新的状态`按钮，打开`创建状态`页面，输入状态名称,选择状态阶段，选择应用到的问题类型，设置是否为初始状态，设置是否转换到所有状态后可完成添加。 

<blockquote class="note">
        创建的状态都必须处于待处理、处理中、完成三个阶段中。   
        初始状态是指问题项创建成功后的起始状态。
</blockquote>

<blockquote class="note">
        如果状态存在于组织层的状态列表中，您可以点击添加已有状态，将其加入当前问题类型的状态机模板中
</blockquote>

<img src="https://file.open.hand-china.com/hsop-doc/doc_classify/0/6e311707ca8642789117e882055fc87e@image.png" alt="" width="auto" height="auto" />

### 3.2 状态与流程

根据实际需要配置状态的流转方向。状态机状态的流转状态配置好后，在看板中拖动问题可流转的状态，会根据当前类型的状态显示可流转的状态。

1. 根据实际流程来勾选问题状态的可流转状态。

2. 您可以拖动状态的上下顺序来改变选择状态时的显示顺序。

3. 点击保存即可生效。

除此之外，您也可以在此添加、删除状态，或者设置问题项的初始状态。

### 3.3 自定义流转

依赖状态流转进行的高级设置。在状态流转的基础上，引入流转条件限制、父子级状态联动、状态变更的后续动作，以满足项目开发过程中对问题项流转的权限要求和自动化管理。


#### 3.3.1 设置流转条件

问题项流转到某一状态应满足的条件设置。仅配置的项目角色或者指定身份才能将其他状态下的任务流转到当前状态中。例如：仅项目所有者可以将故事移动到「验收通过」状态。

- 点击需设置状态的设置按钮，点击`流转条件`按钮，进入流转条件设置侧开页。
- 选择可以移动到此状态的团队成员，您可以设置仅项目所有者可以移动到此状态，您也可以设置指定人员可以移动issue到此状态。
- 点击`确定`即可保存成功。

#### 3.3.2 设置状态联动

当工作项流转到某一状态后，关联的父级任务/故事状态自动流转设置。例如：子任务全部到「开发完成」状态后，父级故事自动流转到「故事开发完成」状态。

<blockquote class="note">
        仅子任务、缺陷有此设置项。
</blockquote>

#### 3.3.3 设置更新属性

问题项流转到某一状态的后续动作，自动更新问题项的属性值，这里的属性既包含预定义字段，也包含自定义字段。例如：问题项到「已完成」状态，自动更新「实际完成时间」这个属性为当前时间。

- 点击需设置状态的设置按钮，点击`更新属性`按钮，进入更新属性侧开页。
- 点击`添加字段`按钮，选择您需要更新的字段，设置对应流转后变更的字段值。您可以添加多个字段及其对应值。
- 点击`确定`即可保存成功。

#### 3.3.4 通知设置

问题项流转到某一状态的后自动发消息通知相关方。例如：问题项到「开发完成」状态，自动通知问题项的「负责测试人员」，以便及时开始测试。

- 点击需设置状态的设置按钮，点击`通知设置`按钮，进入通知设置侧开页。
- 设置通知的方式：邮件、站内信、webhook。设置通知的对象，您可以选择经办人、报告人、项目所有者，也可以选择自定义的人员字段或者指定成员。
- 点击`确定`即可保存成功。


## 4. 看板模板

您可以预设看板模板。创建项目时，若您使用预置看板模板，将会为初始化您的项目看板。

<blockquote class="note">
       注意：您需要先配置状态机模板，看板模板的状态取自状态机模板。
</blockquote>

### 4.1 创建看板模板

您只需输入看板名称，点击保存即可创建新的看板模板。

### 4.2 配置看板模板

- 点击看板名称即可入看板模板配置页。
- 您可以将状态拖动到对应的列中。
- 点击顶部创建列，为看板增加新的列。
- 点击状态卡片的设置为已完成，标记状态是否为已解决状态。


<img src="https://file.open.hand-china.com/hsop-doc/doc_classify/0/62e43f2911d4472188d3eebd7aa8fab8@image.png" alt="" width="auto" height="auto" />
