+++
title = "路由管理"
weight = 4
description = "用于管理平台路由"
+++

# 路由管理

路由发送请求到网关，由网关处理发送到微服务。路由管理是对微服务中网关的所有路由进行管理。每一条路由规则包含一个唯一标志，路由的规则，和对应的微服务。多条路由规则可以指向同一个微服务下的不同接口。在平台中，路由分为自定义和预定义两种类型。用户在界面创建的路由为自定义路由，可以修改和删除。而平台预置的路由为预定义路由，用户不能修改和删除，只能查看预定义路由的详细信息。

- **菜单层次**：全局层
- **菜单路径**：微服务管理 > 路由管理
- **默认角色**：平台管理员、平台开发者

## 创建路由

输入`路由名称`，`路径`，`对应微服务`，创建默认最简路由，步骤如下。

![](/docs/user-guide/microservice-development/microservice-management/image/create-route.png) 

1. 点击`创建路由`按钮；
1. 输入`路由名称`，`路径`，`对应微服务`，点击创建按钮；

- 路由名称：路由名称具有唯一性，是路由的标识。
- 路径：路径具有唯一性，路径是路由的跳转路由规则，路由必须配置一个可以被指定为Ant风格表达式的路径。
- 对应微服务：路由规则匹配的微服务。一条规则只能匹配一个系统已有的微服务。多条路由规则可以指向同一个微服务下的不同接口。


## 修改路由
1. 预定义路由无法修改；
1. 点击`修改路由`→ ![修改按钮](/docs/user-guide/microservice-development/microservice-management/image/update.png) 按钮 ，进行路由信息的修改。

不可修改字段：

- 路由名称：路由名称具有唯一性，是路由的标识。路由创建后不能修改路由名称。

可修改字段：

- 路径：路由的跳转路由规则，路由必须配置一个可以被指定为Ant风格表达式的路径。
- 对应微服务：路由规则匹配的微服务。一条规则只能匹配一个系统已有的微服务。多条路由规则可以指向同一个微服务下的不同接口。
- 是否去除前缀：默认情况下，请求转发时会将路由规则中的前缀去除。如果路径为/iam/。有前缀时，会路由到iam-service/iam/，无前缀时，会路由到iam-service/。
- 是否重试：默认为否，即网关发送给服务的请求失败时，不重试。如果为是，请求失败时会自动重试三次。
- 是否过滤敏感头信息：选中是，表示有敏感头信息；选中否，表示无敏感头信息。有敏感头信息时，需要填写敏感头信息。
- 敏感头信息：请求转发时，会将Headers中的敏感信息随HTTP转发，如果想过滤一些敏感信息，请选则是，并填写敏感头信息。填写后按回车键表示一个敏感头。可以填写一个或多个敏感头。
- Helper服务名：该路由规则对应的自定义网关处理器服务，默认为gateway-helper。

<blockquote class="note">
           预定义路由无法修改。
      </blockquote>

## 删除路由

 1. 预定义路由无法删除；

 1. 点击`删除路由`→ ![删除按钮](/docs/user-guide/microservice-development/microservice-management/image/del_button.png) 按钮，进行模板的删除。
<blockquote class="warning">
         若删除路由，该条数据将被永久删除，不可恢复!
      </blockquote>

## 路由详情

平台预置的路由为预定义路由，用户无法删除、修改，只能查看路由详情。

## 更多操作
- [什么是微服务](../microservice)
- [实例管理](../instance)
- [配置管理](../config)
